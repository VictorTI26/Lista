import "./home.css"
import Component from "../component/component";
import { useEffect, useState, useMemo } from "react"
const home = () => {
    const [item, setItem] = useState("");
    const [arrayitems, setArrayitems] = useState([]);
    useEffect(() => {
        getList();
    }, []);

    const getList = () => {
        const items = JSON.parse(localStorage.getItem("item")) || [];
        setArrayitems(items);
    };
    const handleChange = (event) => {
        setItem(event.target.value);
    };


    const handleClick = () => {
        if (item.trim() !== "") {
            const items = JSON.parse(localStorage.getItem("item")) || [];
            const updatedItems = [...items, item];
            localStorage.setItem("item", JSON.stringify(updatedItems));
            setItem(""); // Limpa o input apÃ³s adicionar o item
        }
    };

    const printList = useMemo(() => {
        if (arrayitems && arrayitems.length > 0) {
            {
                <ul className="div-component">
                    {arrayitems.map((item, index) => (
                        <div className="component">
                            <Component key={index} item={item} qtd="2" />

                        </div>
                    ))}
                </ul>
            }
        }

    }, [arrayitems])

    return (
        <>
            <div className="header">
                <img src="./public/512x512.png" alt="Logo" />
            </div>
            <h1 className="titulo">Bem vindo a sua lista</h1>

            <div className="center">
                <input type="text" name="add" id="add" value={item} onChange={handleChange} />
                <button className="button" onClick={handleClick}>Adicionar</button>
            </div>
            <ul className="div-component">
                {arrayitems.map((item, index) => (
                    <div className="component">
                        <Component key={index} item={item} qtd="2" />

                    </div>
                ))}
            </ul>
        </>
    );
}
export default home;
